<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Portfolio - Galería Viva (Ficha Modal)</title>
<style>
  :root{
    --bg:#0f0f10;
    --card-bg:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    --accent:#d4af37;
    --text:#f3f3f3;
    --muted:#bdbdbd;
    --glass: rgba(255,255,255,0.04);
  }

  /* Reset */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-x:hidden;
  }

  /* Container */
  .site{
    max-width:1300px;
    margin:40px auto;
    padding:0 20px 80px;
  }
  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:20px;
    margin-bottom:30px;
  }
  .brand{
    font-family: "Playfair Display", Georgia, serif;
    font-size:1.35rem;
    letter-spacing:1px;
  }
  .subtitle{
    color:var(--muted);
    font-size:0.9rem;
  }

  /* Floating gallery area */
  .gallery-wrap{
    position:relative;
    width:100%;
    min-height:520px;
    perspective:1200px;
    padding:40px 10px;
  }
  .gallery{
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    grid-auto-rows: 220px;
    gap:20px;
    align-items:start;
  }

  /* Each card (generated dynamically) */
  .card{
    position:relative;
    border-radius:12px;
    overflow:hidden;
    cursor:pointer;
    transform-style:preserve-3d;
    transition: transform .45s cubic-bezier(.2,.9,.25,1), box-shadow .35s ease, filter .35s ease;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
    background:var(--card-bg);
    -webkit-backdrop-filter: blur(6px);
            backdrop-filter: blur(6px);
    border:1px solid rgba(255,255,255,0.03);
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .card img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transition: transform .45s cubic-bezier(.2,.9,.25,1);
  }
  /* floating/parallax offsets by index */
  .card[data-i="0"]{ transform: translateZ(0px) translateY(0px) rotateZ(-1deg) scale(1); }
  .card[data-i="1"]{ transform: translateZ(10px) translateY(-6px) rotateZ(2deg) scale(1.02); }
  .card[data-i="2"]{ transform: translateZ(8px) translateY(8px) rotateZ(-1.5deg) scale(1.01); }
  .card[data-i="3"]{ transform: translateZ(18px) translateY(-12px) rotateZ(1deg) scale(1.04); }
  .card[data-i="4"]{ transform: translateZ(5px) translateY(6px) rotateZ(-2deg) scale(1.01); }
  .card[data-i="5"]{ transform: translateZ(12px) translateY(-4px) rotateZ(1.5deg) scale(1.03); }
  .card[data-i="6"]{ transform: translateZ(4px) translateY(4px) rotateZ(-1deg) scale(1.00); }
  .card[data-i="7"]{ transform: translateZ(16px) translateY(-10px) rotateZ(2deg) scale(1.03); }

  /* hover/active highlight */
  .card:hover,
  .card.is-focused{
    transform: translateZ(40px) scale(1.08) translateY(-8px) rotateZ(0deg);
    z-index:50;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7);
    filter:brightness(1.03);
  }
  .card .caption{
    position:absolute;
    left:12px; right:12px; bottom:10px;
    color:white;
    font-size:0.95rem;
    text-shadow: 0 2px 8px rgba(0,0,0,0.6);
    display:none;
  }
  .card.is-focused .caption,
  .card:hover .caption{
    display:block;
  }

  /* Grid layout responsive: make more prominent center items */
  @media(min-width:980px){
    .gallery{
      grid-template-columns: repeat(8, 1fr);
      grid-auto-rows: 260px;
    }
    .card{ height:260px; }
  }

  /* Mobile layout */
  @media(max-width:768px){
    .gallery{
      grid-template-columns: repeat(2, 1fr);
      grid-auto-rows: 200px;
      gap:14px;
    }
    .card{ height:200px; border-radius:10px; }
    header{ flex-direction:column; align-items:flex-start; gap:6px; }
  }

  /* Modal (Ficha de Museo) */
  .modal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:2000;
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.85));
    padding:24px;
    overflow:auto;
    -webkit-overflow-scrolling:touch;
  }
  .modal.open{ display:flex; }
  .modal-panel{
    width:100%;
    max-width:1100px;
    background: #fff;
    color:#111;
    border-radius:12px;
    overflow:hidden;
    box-shadow: 0 20px 80px rgba(0,0,0,0.8);
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:0;
    max-height:88vh;
  }

  /* left: image area */
  .modal-left{ background:#111; display:flex; flex-direction:column; align-items:center; padding:18px; gap:12px; }
  .modal-main-img{
    width:100%;
    height:60%;
    max-height:520px;
    object-fit:contain;
    border-radius:8px;
    background:#111;
    cursor:zoom-in;
  }
  .thumbs{
    display:flex;
    gap:10px;
    overflow:auto;
    padding-top:8px;
    width:100%;
  }
  .thumbs img{
    width:88px; height:64px; object-fit:cover; border-radius:6px; cursor:pointer; border:2px solid transparent;
    transition: transform .25s ease, border-color .18s ease;
  }
  .thumbs img.active-thumb{ border-color:var(--accent); transform:scale(1.03); }

  /* right: texts */
  .modal-right{
    padding:28px;
    overflow:auto;
  }
  .modal-right h2{ font-family:"Playfair Display", Georgia, serif; font-weight:400; margin-bottom:8px; font-size:1.6rem; }
  .meta{ color:var(--muted); font-size:0.95rem; margin-bottom:16px; line-height:1.45 }
  .block{ margin-bottom:20px; }
  .block h4{ margin-bottom:8px; font-size:0.95rem; color:#333; letter-spacing:0.6px }
  .block p, .block ul{ color:#333; font-size:0.98rem; line-height:1.6 }
  .meta-list{ list-style:none; padding-left:0; color:#444; }
  .meta-list li{ padding:4px 0; }

  /* controls */
  .modal-close{
    position:absolute;
    right:28px; top:20px;
    background:transparent;
    border:none;
    color:#fff; font-size:34px; cursor:pointer;
    z-index:2100;
  }
  .arrow{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    background:transparent;
    border:none;
    color:#fff;
    font-size:40px;
    cursor:pointer;
    z-index:2100;
    padding:8px 14px;
    opacity:0.9;
  }
  .arrow.left{ left:18px }
  .arrow.right{ right:18px }

  /* small screens modal layout stacking */
  @media(max-width:980px){
    .modal-panel{ grid-template-columns: 1fr; max-width:960px; }
    .modal-right{ padding:18px; }
    .modal-main-img{ max-height:48vh }
  }
  @media(max-width:480px){
    .modal-main-img{ max-height:40vh }
    .thumbs img{ width:70px; height:54px }
  }

  /* fullscreen viewer class */
  .fullscreen-view{
    position:fixed; inset:0; background:rgba(0,0,0,0.98); display:flex; align-items:center; justify-content:center; z-index:3000;
  }
  .fullscreen-view img{ max-width:98vw; max-height:98vh; object-fit:contain; }

  /* subtle helper */
  .muted-note{ color:var(--muted); font-size:0.92rem; margin-top:8px; }
  .visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }
</style>
</head>
<body>

<div class="site" id="site">
  <header>
    <div>
      <div class="brand">Tu Nombre — Portfolio</div>
      <div class="subtitle">Exposición — Serie 2024</div>
    </div>
    <div class="subtitle">Haz clic en cualquier obra para abrir su ficha</div>
  </header>

  <main>
    <section class="gallery-wrap" aria-label="Galería principal de obras">
      <div class="gallery" id="gallery" role="list">
        <!-- Las tarjetas se generan con JS -->
      </div>
    </section>
  </main>
</div>

<!-- Modal Ficha -->
<div class="modal" id="modal" role="dialog" aria-modal="true" aria-hidden="true">
  <button class="arrow left" id="prevBtn" aria-label="Obra anterior">‹</button>
  <button class="arrow right" id="nextBtn" aria-label="Obra siguiente">›</button>

  <div class="modal-panel" role="document" id="modalPanel">
    <div class="modal-left">
      <img id="modalMainImg" class="modal-main-img" alt="Imagen de la obra" />
      <div class="thumbs" id="modalThumbs" aria-label="Imágenes secundarias"></div>
      <div class="muted-note">Pulsa la imagen para verla a pantalla completa</div>
    </div>

    <div class="modal-right" id="modalRight">
      <h2 id="modalTitle">Título de la obra</h2>
      <div class="meta" id="modalMeta">Técnica • Dimensiones • Año</div>

      <div class="block">
        <h4>Detalles técnicos</h4>
        <ul class="meta-list" id="modalFicha">
          <!-- items -->
        </ul>
      </div>

      <div class="block">
        <h4>Explicación técnica</h4>
        <p id="modalExplicacion">Texto técnico</p>
      </div>

      <div class="block">
        <h4>Detalles</h4>
        <p id="modalDetalles">Texto poético / detalles</p>
      </div>
    </div>
  </div>

  <button class="modal-close" id="closeModal" aria-label="Cerrar ficha">×</button>
</div>

<!-- Fullscreen viewer -->
<div id="fsViewer" class="fullscreen-view" style="display:none" role="dialog" aria-hidden="true">
  <button id="fsClose" class="modal-close" style="color:#fff; position:fixed; right:18px; top:18px; font-size:34px; background:transparent; border:none;">×</button>
  <img id="fsImg" alt="Vista ampliada">
</div>

<script>
/* ==========================
   Datos modulares de las obras
   Rellena/actualiza estos objetos con tus datos reales
   ========================== */
const obras = [
  {
    id: "obra01",
    titulo: "Horizonte Interior",
    tecnica: "Óleo sobre lienzo",
    dimensiones: "120 × 100 cm",
    año: "2024",
    serie: "Serie: Memoria",
    ficha: [
      "Soporte: Lienzo bastidor 40 mm",
      "Pigmentos: Óleo al titanio y tierras",
      "Barniz: Satinado microcristalino"
    ],
    explicacion: "Proceso basado en veladuras finas y raspados. Se trabajó la superficie en capas sucesivas durante tres meses, buscando crear profundidad lumínica.",
    detalles: "Esta pieza explora la tensión entre silencio y estructura. Inspirada en paisajes de la infancia.",
    imagen_principal: "https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1547826039-bfc35e0f1ea8?w=800",
      "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=800",
      "https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=800"
    ]
  },
  {
    id: "obra02",
    titulo: "Memoria Fragmentada",
    tecnica: "Técnica mixta sobre madera",
    dimensiones: "150 × 150 cm",
    año: "2023",
    serie: "Serie: Fragmentos",
    ficha: [
      "Soporte: Contrachapado de abedul",
      "Materiales: Óleo, pastel y colas acrílicas",
      "Montaje: Marco flotante de 30mm"
    ],
    explicacion: "Se aplicaron capas de imprimación y gesso con texturizado manual. Se integraron elementos encontrados como papel y hilos.",
    detalles: "La obra habla de recuerdos ensamblados y superposición temporal.",
    imagen_principal: "https://images.unsplash.com/photo-1561214115-f2f134cc4912?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1561214115-f2f134cc4912?w=800",
      "https://images.unsplash.com/photo-1496302661638-63a2f2b1c5a0?w=800",
      "https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800"
    ]
  },
  {
    id: "obra03",
    titulo: "Horizonte de Silencios",
    tecnica: "Acrílico y óleo",
    dimensiones: "200 × 100 cm",
    año: "2024",
    serie: "Horizontes",
    ficha: [
      "Base: Lienzo industrial",
      "Técnica: Acrílico para capas base, óleo para luces",
      "Protección: Barniz UV"
    ],
    explicacion: "Trabajada con espátula para texturas y pinceladas finas para luces. Buscando tensión entre manchas y línea.",
    detalles: "Se inspira en la línea del horizonte como límite físico y mental.",
    imagen_principal: "https://images.unsplash.com/photo-1578301978018-3005759f48f7?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1578301978018-3005759f48f7?w=800",
      "https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800",
      "https://images.unsplash.com/photo-1493246318656-5d47f5f5f8cc?w=800"
    ]
  },
  {
    id: "obra04",
    titulo: "Vestigios",
    tecnica: "Óleo y técnica mixta",
    dimensiones: "90 × 130 cm",
    año: "2022",
    serie: "Vestigios",
    ficha: ["Soporte: Lienzo reciclado", "Materiales: pigmentos naturales", "Procedimiento: capas y raspados"],
    explicacion: "Exploración de materiales orgánicos e interacción con la superficie del lienzo.",
    detalles: "Recoge trazos y marcas como memorias del tiempo.",
    imagen_principal: "https://images.unsplash.com/photo-1504198453319-5ce911bafcde?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1504198453319-5ce911bafcde?w=800",
      "https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?w=800"
    ]
  },
  {
    id: "obra05",
    titulo: "Ecos de Sal",
    tecnica: "Óleo sobre lienzo",
    dimensiones: "130 × 90 cm",
    año: "2024",
    serie: "Costas",
    ficha: ["Pigmentos: tierra y azul marino", "Base: imprimación acrílica", "Montaje: bastidor de pino"],
    explicacion: "Empleo de lavados y veladuras para crear atmósferas marinas minimalistas.",
    detalles: "Referencias a litoral y memoria colectiva del mar.",
    imagen_principal: "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800",
      "https://images.unsplash.com/photo-1493558103817-58b2924bce98?w=800"
    ]
  },
  {
    id: "obra06",
    titulo: "Trama Urbana",
    tecnica: "Acrílico y collage",
    dimensiones: "100 × 100 cm",
    año: "2021",
    serie: "Urbana",
    ficha: ["Collage: papeles encontrados", "Técnica: Acrílico mate", "Protección: spray microfibras"],
    explicacion: "Suma de fragmentos urbanos, capas de papiers collés y pinceladas directas.",
    detalles: "Investiga la sociabilidad de la ciudad en pequeñas tramas.",
    imagen_principal: "https://images.unsplash.com/photo-1468892358288-917a4c22e0e4?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1468892358288-917a4c22e0e4?w=800"
    ]
  },
  {
    id: "obra07",
    titulo: "Líneas de Fuga",
    tecnica: "Grafito y óleo",
    dimensiones: "80 × 120 cm",
    año: "2020",
    serie: "Fuga",
    ficha: ["Grafito: dureza HB-6B", "Óleo para acentos", "Soporte: papel entelado"],
    explicacion: "Diseño en base a tensiones lineales y pequeñas quadraturas de color.",
    detalles: "Equilibrio entre dibujo y pintura.",
    imagen_principal: "https://images.unsplash.com/photo-1512428559087-560fa5ceab42?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1512428559087-560fa5ceab42?w=800",
      "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800"
    ]
  },
  {
    id: "obra08",
    titulo: "Residuo",
    tecnica: "Mixta sobre tabla",
    dimensiones: "110 × 85 cm",
    año: "2019",
    serie: "Residuos",
    ficha: ["Base: madera tratada", "Materiales: pigmentos y óxidos", "Acabado: barniz mate"],
    explicacion: "Superposición de lavados y corrosiones controladas para generar texturas.",
    detalles: "Aproximación al paso del tiempo en superficies trabajadas intensamente.",
    imagen_principal: "https://images.unsplash.com/photo-1503264116251-35a269479413?w=1200",
    imagenes_secundarias: [
      "https://images.unsplash.com/photo-1503264116251-35a269479413?w=800",
      "https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=800"
    ]
  }
];

/* ==========================
   Generar galería dinámicamente
   ========================== */
const galleryEl = document.getElementById('gallery');
let currentIndex = 0;

function buildGallery(){
  obras.forEach((obra, i) => {
    const li = document.createElement('button');
    li.className = 'card';
    li.setAttribute('data-i', i);
    li.setAttribute('aria-label', obra.titulo + ' — ' + obra.tecnica);
    li.setAttribute('role', 'listitem');
    li.innerHTML = `
      <img src="${obra.imagen_principal}" alt="${obra.titulo}">
      <div class="caption">${obra.titulo}</div>
    `;
    // click / touch: abrir modal
    li.addEventListener('click', (e) => {
      openModal(i);
    });
    // keyboard focus styling
    li.addEventListener('focus', ()=> { li.classList.add('is-focused')});
    li.addEventListener('blur', ()=> { li.classList.remove('is-focused')});
    galleryEl.appendChild(li);
  });
}
buildGallery();

/* ==========================
   Modal logic: rellenar y controlar
   ========================== */
const modal = document.getElementById('modal');
const modalMainImg = document.getElementById('modalMainImg');
const modalThumbs = document.getElementById('modalThumbs');
const modalTitle = document.getElementById('modalTitle');
const modalMeta = document.getElementById('modalMeta');
const modalFicha = document.getElementById('modalFicha');
const modalExplicacion = document.getElementById('modalExplicacion');
const modalDetalles = document.getElementById('modalDetalles');
const closeModalBtn = document.getElementById('closeModal');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

function populateModal(i){
  const obra = obras[i];
  modalTitle.textContent = obra.titulo;
  modalMeta.textContent = `${obra.tecnica} • ${obra.dimensiones} • ${obra.año}`;
  // ficha técnica (lista)
  modalFicha.innerHTML = '';
  obra.ficha.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    modalFicha.appendChild(li);
  });
  modalExplicacion.textContent = obra.explicacion;
  modalDetalles.textContent = obra.detalles;
  // main image
  setModalMainImage(obra.imagen_principal);
  // thumbs
  modalThumbs.innerHTML = '';
  obra.imagenes_secundarias.forEach((src, idx) => {
    const t = document.createElement('img');
    t.src = src;
    t.alt = obra.titulo + ' — detalle ' + (idx+1);
    t.addEventListener('click', ()=> {
      setModalMainImage(src);
      setActiveThumb(idx);
    });
    modalThumbs.appendChild(t);
  });
  setActiveThumb(0);
}

function setModalMainImage(src){
  modalMainImg.src = src;
  modalMainImg.alt = modalTitle.textContent;
}

/* Active thumb styling */
function setActiveThumb(idx){
  const imgs = Array.from(modalThumbs.querySelectorAll('img'));
  imgs.forEach((im,i)=> {
    if(i===idx) im.classList.add('active-thumb'); else im.classList.remove('active-thumb');
  });
}

/* abrir / cerrar modal */
function openModal(i){
  currentIndex = i;
  populateModal(i);
  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden'; // evitar scroll body cuando modal abierto
  // focus control
  closeModalBtn.focus();
}
function closeModal(){
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
  document.body.style.overflow = '';
}

/* navegación dentro del modal */
function showNext(){
  currentIndex = (currentIndex + 1) % obras.length;
  populateModal(currentIndex);
}
function showPrev(){
  currentIndex = (currentIndex - 1 + obras.length) % obras.length;
  populateModal(currentIndex);
}

/* events */
closeModalBtn.addEventListener('click', closeModal);
prevBtn.addEventListener('click', showPrev);
nextBtn.addEventListener('click', showNext);
/* click fuera para cerrar */
modal.addEventListener('click', (e) => {
  if(e.target === modal) closeModal();
});

/* teclado: cerrar y navegar */
document.addEventListener('keydown', (e) => {
  if(modal.classList.contains('open')){
    if(e.key === 'Escape') closeModal();
    if(e.key === 'ArrowRight') showNext();
    if(e.key === 'ArrowLeft') showPrev();
  }
});

/* ==========================
   Fullscreen zoom when clicking main image
   ========================== */
const fsViewer = document.getElementById('fsViewer');
const fsImg = document.getElementById('fsImg');
const fsClose = document.getElementById('fsClose');

modalMainImg.addEventListener('click', ()=> {
  fsImg.src = modalMainImg.src;
  fsViewer.style.display = 'flex';
  fsViewer.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden';
});
fsClose.addEventListener('click', ()=> {
  fsViewer.style.display = 'none';
  fsViewer.setAttribute('aria-hidden','true');
  document.body.style.overflow = '';
});
fsViewer.addEventListener('click', (e)=> {
  if(e.target === fsViewer) {
    fsViewer.style.display = 'none';
    document.body.style.overflow = '';
  }
});

/* ==========================
   Swipe gestures for modal (móvil)
   ========================== */
let touchStartX = 0;
let touchEndX = 0;
modal.addEventListener('touchstart', (e) => {
  touchStartX = e.changedTouches[0].screenX;
}, {passive:true});
modal.addEventListener('touchend', (e) => {
  touchEndX = e.changedTouches[0].screenX;
  handleGesture();
}, {passive:true});
function handleGesture(){
  const diff = touchEndX - touchStartX;
  if(Math.abs(diff) < 40) return; // poco movimiento
  if(diff < 0) showNext(); else showPrev();
}

/* ==========================
   Mejora: al hacer foco en tarjeta, destacar (para teclado)
   ========================== */
galleryEl.addEventListener('keydown', (e) => {
  const focusable = Array.from(galleryEl.querySelectorAll('.card'));
  const idx = focusable.indexOf(document.activeElement);
  if(e.key === 'ArrowRight'){ if(idx < focusable.length - 1) focusable[idx+1].focus(); }
  if(e.key === 'ArrowLeft'){ if(idx > 0) focusable[idx-1].focus(); }
});

/* ==========================
   Pequeña mejora: traer tarjeta al frente si el usuario la mantiene pulsada
   ========================== */
let pressTimer = null;
galleryEl.addEventListener('pointerdown', (e) => {
  const card = e.target.closest('.card');
  if(!card) return;
  pressTimer = setTimeout(()=> {
    // simular "is-focused"
    card.classList.add('is-focused');
    setTimeout(()=> card.classList.remove('is-focused'), 1200);
  }, 350);
});
galleryEl.addEventListener('pointerup', ()=> { clearTimeout(pressTimer); });
galleryEl.addEventListener('pointerleave', ()=> { clearTimeout(pressTimer); });

/* ==========================
   Opcional: adaptar tamaño imágenes si vienen muy grandes
   ========================== */
window.addEventListener('load', ()=> {
  // pre-load thumbnails for better feeling
  obras.forEach(o => {
    const img = new Image();
    img.src = o.imagen_principal;
    (o.imagenes_secundarias||[]).forEach(s=> (new Image()).src = s);
  });
});

/* ==========================
   Nota: modularidad
   - Para añadir/quitar obras, edita SOLO el array `obras` arriba.
   - La galería y modal se generan automáticamente.
   ========================== */
</script>
</body>
</html>

